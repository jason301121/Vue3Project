(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d386820"],{"20c9":function(t,e,c){"use strict";c.r(e);c("b0c0");var n=c("7a23"),r=Object(n["h"])("div",{class:"top_background checkOrder_backImg d-flex justify-content-center align-items-center"},[Object(n["h"])("div",{class:"mx-auto fw-bold"}," 訂單查詢 ")],-1),l={class:"container"},s={class:"row"},o={class:"col-12 py-5"},a={class:"input-group justify-content-center d-flex flex-nowrap"},b={key:0,class:"row my-5"},d={class:"col-12 checkout_orderlist"},i=Object(n["h"])("p",{class:"fs-2 text-center fw-bold"},"購物明細",-1),h={class:"table align-middle "},u=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",{width:"30%",class:"text-center"},"商品名稱"),Object(n["h"])("th",{width:"20%",class:"text-center"},"單價"),Object(n["h"])("th",{width:"40%",class:"text-center"},"數量"),Object(n["h"])("th",{width:"10%",class:"text-end"},"小計")])],-1),O={class:"text-center"},j={class:"text-center"},p={class:"text-center"},f={class:"text-end"},y={class:"fs-2"},g={colspan:"4",class:"text-end"},k={class:"col-12 mt-3"},v=Object(n["h"])("p",{class:"fs-2 text-center fw-bold"},"訂購人資訊",-1),w={class:"checkout_info p-3 d-flex"},x=Object(n["h"])("th",null,"訂單編號",-1),m=Object(n["h"])("th",null,"姓名",-1),_=Object(n["h"])("th",null,"收件人電話",-1),K=Object(n["h"])("th",null,"Email",-1),A=Object(n["h"])("th",null,"收件人地址",-1),L={key:0},I=Object(n["h"])("th",null,"備註",-1),$=Object(n["h"])("th",null,"訂單狀態",-1),C={key:0,class:"text-success"},F={key:1},H={class:"row justify-content-center py-3"},J=Object(n["j"])("繼續逛逛");function S(t,e,c,S,q,E){var T=Object(n["H"])("Loading"),U=Object(n["H"])("router-link");return Object(n["A"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(T,{active:q.isLoading},null,8,["active"]),r,Object(n["h"])("div",l,[Object(n["h"])("div",s,[Object(n["h"])("div",o,[Object(n["h"])("div",a,[Object(n["T"])(Object(n["h"])("input",{type:"text",placeholder:"請輸入訂單編號","onUpdate:modelValue":e[0]||(e[0]=function(t){return q.orderId=t}),style:{width:"60%"},class:"fs-3"},null,512),[[n["O"],q.orderId]]),Object(n["h"])("button",{type:"button",class:"main_btn edit_add_btn fs-3 text-nowrap",onClick:e[1]||(e[1]=function(){return E.checkOrder&&E.checkOrder.apply(E,arguments)})},"送出")])])]),q.order.total?(Object(n["A"])(),Object(n["g"])("div",b,[Object(n["h"])("div",d,[i,Object(n["h"])("table",h,[u,Object(n["h"])("tbody",null,[(Object(n["A"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(q.order.products,(function(e){return Object(n["A"])(),Object(n["g"])("tr",{key:e.id},[Object(n["h"])("td",O,Object(n["K"])(e.product.title),1),Object(n["h"])("td",j,Object(n["K"])(t.$filters.currency(e.product.price)),1),Object(n["h"])("td",p,Object(n["K"])(e.qty)+" / "+Object(n["K"])(e.product.unit),1),Object(n["h"])("td",f,Object(n["K"])(t.$filters.currency(e.final_total)),1)])})),128))]),Object(n["h"])("tfoot",null,[Object(n["h"])("tr",y,[Object(n["h"])("td",g,"總金額 $ "+Object(n["K"])(t.$filters.currency(q.order.total)),1)])])])]),Object(n["h"])("div",k,[v,Object(n["h"])("div",w,[Object(n["h"])("table",null,[Object(n["h"])("tbody",null,[Object(n["h"])("tr",null,[x,Object(n["h"])("td",null,Object(n["K"])(q.order.id),1)]),Object(n["h"])("tr",null,[m,Object(n["h"])("td",null,Object(n["K"])(q.order.user.name),1)]),Object(n["h"])("tr",null,[_,Object(n["h"])("td",null,Object(n["K"])(q.order.user.tel),1)]),Object(n["h"])("tr",null,[K,Object(n["h"])("td",null,Object(n["K"])(q.order.user.email),1)]),Object(n["h"])("tr",null,[A,Object(n["h"])("td",null,Object(n["K"])(q.order.user.address),1)]),q.order.message?(Object(n["A"])(),Object(n["g"])("tr",L,[I,Object(n["h"])("td",null,Object(n["K"])(q.order.message),1)])):Object(n["f"])("",!0),Object(n["h"])("tr",null,[$,Object(n["h"])("td",null,[q.order.is_paid?(Object(n["A"])(),Object(n["g"])("span",C,"已付款")):(Object(n["A"])(),Object(n["g"])("span",F,"尚未付款"))])])])])])]),Object(n["h"])("div",H,[q.order.is_paid?(Object(n["A"])(),Object(n["e"])(U,{key:1,to:"/",class:"main_btn check_btn",style:{width:"40%"}},{default:Object(n["S"])((function(){return[J]})),_:1})):(Object(n["A"])(),Object(n["g"])("button",{key:0,type:"button",class:"main_btn check_btn",onClick:e[2]||(e[2]=function(){return E.pay&&E.pay.apply(E,arguments)}),style:{width:"40%"}},"確認付款"))])])):Object(n["f"])("",!0)])],64)}c("99af");var q={data:function(){return{orderId:"",order:{user:{}},isLoading:!1}},methods:{checkOrder:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("jason-api","/order/").concat(this.orderId);this.isLoading=!0,this.$http.get(e).then((function(e){e.data.success&&(t.order=e.data.order),t.isLoading=!1}))},pay:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("jason-api","/pay/").concat(this.orderId);this.isLoading=!0,this.$http.post(e).then((function(e){console.log(e),t.checkOrder(),t.isLoading=!1}))}},created:function(){this.checkOrder()}};q.render=S;e["default"]=q},b0c0:function(t,e,c){var n=c("83ab"),r=c("9bf2").f,l=Function.prototype,s=l.toString,o=/^\s*function ([^ (]*)/,a="name";n&&!(a in l)&&r(l,a,{configurable:!0,get:function(){try{return s.call(this).match(o)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-2d386820.b42b0b59.js.map