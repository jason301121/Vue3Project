(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-661ee532"],{2532:function(t,e,c){"use strict";var i=c("23e7"),a=c("5a34"),n=c("1d80"),r=c("577e"),o=c("ab13");i({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~r(n(this)).indexOf(r(a(t)),arguments.length>1?arguments[1]:void 0)}})},"3c46":function(t,e,c){"use strict";c.r(e);c("caad"),c("2532");var i=c("7a23"),a={class:"top_background product_backImg d-flex justify-content-center align-items-center"},n={class:"mx-auto fw-bold"},r={class:"container"},o={class:"row my-3 m-0"},s={class:"col-12 d-flex justify-content-center"},l={class:"list-unstyled d-flex justify-content-center flex-wrap m-0"},u=["onClick"],d={class:"col-12"},f={class:"d-flex flex-wrap justify-content-center"},g=["onClick"],h=["alt"],p=Object(i["h"])("div",{class:"card-layer d-flex justify-content-center align-items-center"},[Object(i["h"])("p",{class:"card-layer-text d-flex align-items-center"},"查看詳細")],-1),b={class:"card-body"},v={class:"card-title fw-bold mb-2"},j={class:"d-flex justify-content-between"},O={class:"fs-5 text-muted"},y={class:"fs-5 text-danger"},m={class:"d-flex justify-content-between align-items-center"},x=["onClick"],k=["onClick"];function w(t,e,c,w,C,P){var _=Object(i["H"])("Loading"),A=Object(i["H"])("Pagination");return Object(i["A"])(),Object(i["g"])(i["a"],null,[Object(i["k"])(_,{active:C.isLoading},null,8,["active"]),Object(i["h"])("div",a,[Object(i["h"])("div",n,Object(i["K"])(C.filters.category),1)]),Object(i["h"])("div",r,[Object(i["h"])("div",o,[Object(i["h"])("div",s,[Object(i["h"])("ul",l,[(Object(i["A"])(!0),Object(i["g"])(i["a"],null,Object(i["F"])(C.filters.list,(function(t,e){return Object(i["A"])(),Object(i["g"])("li",{class:Object(i["r"])(["product_filter_button m-2 py-1 px-3 fs-3",{product_filter_active:e===C.activeItem}]),key:e},[Object(i["h"])("a",{class:"text-decoration-none text-primary fw-bold","aria-current":"page",href:"#",onClick:Object(i["U"])((function(c){return P.changeCategory(t,e)}),["prevent"])},Object(i["K"])(t),9,u)],2)})),128))])]),Object(i["h"])("div",d,[Object(i["h"])("div",f,[(Object(i["A"])(!0),Object(i["g"])(i["a"],null,Object(i["F"])(C.filter_product,(function(e){return Object(i["A"])(),Object(i["g"])("div",{class:"card border-0 shadow h-100 mx-2 my-2",key:e.id,"data-aos":"zoom-in"},[Object(i["h"])("div",{class:"card-img-wrap",onClick:Object(i["U"])((function(t){return P.goDetail(e)}),["prevent"])},[Object(i["h"])("div",{class:"card-img card-img-top",style:Object(i["s"])([{height:"250px"},{backgroundImage:"url(".concat(e.imageUrl,")")}]),alt:e.title},null,12,h),p],8,g),Object(i["h"])("div",b,[Object(i["h"])("h4",v,Object(i["K"])(e.title),1),Object(i["h"])("div",j,[Object(i["h"])("del",O,"NT$"+Object(i["K"])(t.$filters.currency(e.origin_price)),1),Object(i["h"])("p",y,"NT$"+Object(i["K"])(t.$filters.currency(e.price)),1)]),Object(i["h"])("div",m,[Object(i["h"])("i",{class:Object(i["r"])(["favorite",[C.favoriteList.includes(e.id)?"bi-heart-fill":"bi-heart"]]),style:{"font-size":"1.5rem"},onClick:function(t){return P.addFavorite(e)}},null,10,x),Object(i["h"])("button",{class:"main_btn ms-2 p-2",onClick:function(t){return P.addCart(e.id)}}," 加入購物車 ",8,k)])])])})),128))])])])]),Object(i["T"])(Object(i["k"])(A,{pages:C.pagination,onChangePage:P.getProduct},null,8,["pages","onChangePage"]),[[i["P"],"全部"==C.filters.category]])],64)}c("99af"),c("4de4"),c("c740"),c("a434");var C=c("cf38"),P={components:{Pagination:C["a"]},data:function(){return{products:[],pagination:{},filter_product:[],category:"all",filters:{list:["全部","蔬菜","水果","肉品","海鮮"],category:"全部"},qty:1,isLoading:!1,favoriteList:[],activeItem:null}},methods:{getProduct:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("jason-api","/products?page=").concat(e);this.category="all",this.isLoading=!0,this.$http.get(c).then((function(e){t.products=e.data.products,t.isLoading=!1,t.pagination=e.data.pagination,t.filter_product=t.products}))},getProductAll:function(){var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("jason-api","/products/all");this.isLoading=!0;var e=this;this.$http.get(t).then((function(t){"全部"!==e.filters.category&&(e.filter_product=t.data.products.filter((function(t){return t.category==e.filters.category})),e.isLoading=!1)}))},changeCategory:function(t,e){var c=this;c.filters.category=t,c.activeItem=e,"全部"===c.filters.category?c.getProduct():c.getProductAll()},addCart:function(t){var e=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("carts/addCart",{id:t,qty:c}),setTimeout((function(){e.$swal({title:"已加入購物車",icon:"success"})}),1e3)},goDetail:function(t){console.log(t),this.$router.push("/productdetail/".concat(t.id))},getFavorite:function(){var t=localStorage.getItem("favorite")||"[]";this.favoriteList=JSON.parse(t)},addFavorite:function(t){if(this.favoriteList.includes(t.id)){var e=this.favoriteList.findIndex((function(e){return e===t.id}));this.favoriteList.splice(e,1),this.$swal({title:"從我的收藏移除",icon:"success"})}else this.favoriteList.push(t.id),this.$swal({title:"已加入我的收藏",icon:"success"});var c=JSON.stringify(this.favoriteList);localStorage.setItem("favorite",c),this.getFavorite()}},mounted:function(){this.getFavorite()},created:function(){this.getProduct()}};P.render=w;e["default"]=P},"44e7":function(t,e,c){var i=c("861d"),a=c("c6b6"),n=c("b622"),r=n("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==a(t))}},"4de4":function(t,e,c){"use strict";var i=c("23e7"),a=c("b727").filter,n=c("1dde"),r=n("filter");i({target:"Array",proto:!0,forced:!r},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"5a34":function(t,e,c){var i=c("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},a434:function(t,e,c){"use strict";var i=c("23e7"),a=c("23cb"),n=c("a691"),r=c("50c4"),o=c("7b0b"),s=c("65f0"),l=c("8418"),u=c("1dde"),d=u("splice"),f=Math.max,g=Math.min,h=9007199254740991,p="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var c,i,u,d,b,v,j=o(this),O=r(j.length),y=a(t,O),m=arguments.length;if(0===m?c=i=0:1===m?(c=0,i=O-y):(c=m-2,i=g(f(n(e),0),O-y)),O+c-i>h)throw TypeError(p);for(u=s(j,i),d=0;d<i;d++)b=y+d,b in j&&l(u,d,j[b]);if(u.length=i,c<i){for(d=y;d<O-i;d++)b=d+i,v=d+c,b in j?j[v]=j[b]:delete j[v];for(d=O;d>O-i+c;d--)delete j[d-1]}else if(c>i)for(d=O-i;d>y;d--)b=d+i-1,v=d+c-1,b in j?j[v]=j[b]:delete j[v];for(d=0;d<c;d++)j[d+y]=arguments[d+2];return j.length=O-i+c,u}})},ab13:function(t,e,c){var i=c("b622"),a=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(c){try{return e[a]=!1,"/./"[t](e)}catch(i){}}return!1}},b727:function(t,e,c){var i=c("0366"),a=c("44ad"),n=c("7b0b"),r=c("50c4"),o=c("65f0"),s=[].push,l=function(t){var e=1==t,c=2==t,l=3==t,u=4==t,d=6==t,f=7==t,g=5==t||d;return function(h,p,b,v){for(var j,O,y=n(h),m=a(y),x=i(p,b,3),k=r(m.length),w=0,C=v||o,P=e?C(h,k):c||f?C(h,0):void 0;k>w;w++)if((g||w in m)&&(j=m[w],O=x(j,w,y),t))if(e)P[w]=O;else if(O)switch(t){case 3:return!0;case 5:return j;case 6:return w;case 2:s.call(P,j)}else switch(t){case 4:return!1;case 7:s.call(P,j)}return d?-1:l||u?u:P}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},c740:function(t,e,c){"use strict";var i=c("23e7"),a=c("b727").findIndex,n=c("44d2"),r="findIndex",o=!0;r in[]&&Array(1)[r]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(r)},caad:function(t,e,c){"use strict";var i=c("23e7"),a=c("4d64").includes,n=c("44d2");i({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},cf38:function(t,e,c){"use strict";var i=c("7a23"),a={"aria-label":"Page navigation example"},n={class:"pagination justify-content-center"},r=Object(i["h"])("span",{"aria-hidden":"true"},"«",-1),o=[r],s=["onClick"],l=Object(i["h"])("span",{"aria-hidden":"true"},"»",-1),u=[l];function d(t,e,c,r,l,d){return Object(i["A"])(),Object(i["g"])("nav",a,[Object(i["h"])("ul",n,[Object(i["h"])("li",{class:Object(i["r"])(["page-item",{disabled:!c.pages.has_pre}])},[Object(i["h"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=Object(i["U"])((function(t){return d.updatePage(c.pages.current_page-1)}),["prevent"]))},o)],2),(Object(i["A"])(!0),Object(i["g"])(i["a"],null,Object(i["F"])(c.pages.total_pages,(function(t,e){return Object(i["A"])(),Object(i["g"])("li",{class:Object(i["r"])(["page-item",{active:t===c.pages.current_page}]),key:e},[Object(i["h"])("a",{class:"page-link",href:"#",onClick:Object(i["U"])((function(e){return d.updatePage(t)}),["prevent"])},Object(i["K"])(t),9,s)],2)})),128)),Object(i["h"])("li",{class:Object(i["r"])(["page-item",{disabled:!c.pages.has_next}])},[Object(i["h"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=Object(i["U"])((function(t){return d.updatePage(c.pages.current_page+1)}),["prevent"]))},u)],2)])])}var f={props:{pages:{type:Object}},methods:{updatePage:function(t){this.$emit("changePage",t)}}};f.render=d;e["a"]=f}}]);
//# sourceMappingURL=chunk-661ee532.608a2f8c.js.map