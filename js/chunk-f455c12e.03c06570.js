(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f455c12e"],{2532:function(t,e,i){"use strict";var c=i("23e7"),r=i("5a34"),n=i("1d80"),a=i("577e"),s=i("ab13");c({target:"String",proto:!0,forced:!s("includes")},{includes:function(t){return!!~a(n(this)).indexOf(a(r(t)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,i){var c=i("861d"),r=i("c6b6"),n=i("b622"),a=n("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},"4de4":function(t,e,i){"use strict";var c=i("23e7"),r=i("b727").filter,n=i("1dde"),a=n("filter");c({target:"Array",proto:!0,forced:!a},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5582:function(t,e,i){"use strict";i.r(e);i("caad"),i("2532");var c=i("7a23"),r=Object(c["h"])("div",{class:"top_background favorite_backImg d-flex justify-content-center align-items-center"},[Object(c["h"])("div",{class:"mx-auto fw-bold"}," 我的收藏 ")],-1),n={class:"container"},a={class:"row"},s={key:0,class:"col-12 my-5 text-center"},o={class:"d-flex flex-column align-items-center"},l=Object(c["h"])("p",{class:"fs-1 fw-bolder"},"還沒有收藏的商品哦",-1),d=Object(c["j"])("點我選購"),f={key:1,class:"col-12"},u={class:"d-flex flex-wrap justify-content-center"},h=["onClick"],b=["alt"],v=Object(c["h"])("div",{class:"card-layer d-flex justify-content-center align-items-center"},[Object(c["h"])("p",{class:"card-layer-text d-flex align-items-center"},"查看詳細")],-1),g={class:"card-body"},p={class:"card-title fw-bold mb-2"},j={class:"d-flex justify-content-between"},O={class:"fs-5 text-muted"},m={class:"fs-5 text-danger"},x={class:"d-flex justify-content-between align-items-center"},y=["onClick"],w=["onClick"];function k(t,e,i,k,L,I){var A=Object(c["H"])("Loading"),$=Object(c["H"])("router-link");return Object(c["A"])(),Object(c["g"])(c["a"],null,[Object(c["k"])(A,{active:L.isLoading},null,8,["active"]),r,Object(c["h"])("div",n,[Object(c["h"])("div",a,[0===L.favoriteItem.length?(Object(c["A"])(),Object(c["g"])("div",s,[Object(c["h"])("div",o,[l,Object(c["k"])($,{to:"/product",class:"main_btn check_btn mt-3",style:{width:"15%"}},{default:Object(c["S"])((function(){return[d]})),_:1})])])):(Object(c["A"])(),Object(c["g"])("div",f,[Object(c["h"])("div",u,[(Object(c["A"])(!0),Object(c["g"])(c["a"],null,Object(c["F"])(L.favoriteItem,(function(e){return Object(c["A"])(),Object(c["g"])("div",{class:"card border-0 shadow h-100 mx-2 my-2",key:e.id,"data-aos":"zoom-in"},[Object(c["h"])("div",{class:"card-img-wrap",onClick:Object(c["U"])((function(t){return I.goDetail(e)}),["prevent"])},[Object(c["h"])("div",{class:"card-img card-img-top",style:Object(c["s"])([{height:"250px"},{backgroundImage:"url(".concat(e.imageUrl,")")}]),alt:e.title},null,12,b),v],8,h),Object(c["h"])("div",g,[Object(c["h"])("h4",p,Object(c["K"])(e.title),1),Object(c["h"])("div",j,[Object(c["h"])("del",O,"NT$"+Object(c["K"])(t.$filters.currency(e.origin_price)),1),Object(c["h"])("p",m,"NT$"+Object(c["K"])(t.$filters.currency(e.price)),1)]),Object(c["h"])("div",x,[Object(c["h"])("i",{class:Object(c["r"])(["favorite",[L.favoriteList.includes(e.id)?"bi-heart-fill":"bi-heart"]]),style:{"font-size":"1.5rem"},onClick:function(t){return I.addFavorite(e)}},null,10,y),Object(c["h"])("button",{class:"main_btn ms-2 p-2",onClick:function(t){return I.addCart(e.id)}}," 加入購物車 ",8,w)])])])})),128))])]))])])],64)}i("99af"),i("4de4"),i("c740"),i("a434");var L={data:function(){return{favoriteList:JSON.parse(localStorage.getItem("favorite")||[]),favoriteItem:[],allProducts:[],isLoading:!1}},methods:{getAllproducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("jason-api","/products/all");this.isLoading=!0,this.$http.get(e).then((function(e){t.allProducts=e.data.products,t.filterFavorite(),t.isLoading=!1}))},filterFavorite:function(){var t=this;this.favoriteItem=this.allProducts.filter((function(e){return-1!==t.favoriteList.indexOf(e.id)}))},goDetail:function(t){this.isLoading=!1,this.$router.push("/productdetail/".concat(t.id))},addFavorite:function(t){if(this.favoriteList.includes(t.id)){var e=this.favoriteList.findIndex((function(e){return e===t.id}));this.favoriteList.splice(e,1),this.$swal({title:"從我的收藏移除",icon:"success"})}else this.favoriteList.push(t.id),this.$swal({title:"已加入我的收藏",icon:"success"});var i=JSON.stringify(this.favoriteList);localStorage.setItem("favorite",i),this.filterFavorite()},addCart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("carts/addCart",{id:t,qty:e}),this.$swal({title:"已加入購物車",icon:"success"})}},created:function(){this.getAllproducts()}};L.render=k;e["default"]=L},"5a34":function(t,e,i){var c=i("44e7");t.exports=function(t){if(c(t))throw TypeError("The method doesn't accept regular expressions");return t}},a434:function(t,e,i){"use strict";var c=i("23e7"),r=i("23cb"),n=i("a691"),a=i("50c4"),s=i("7b0b"),o=i("65f0"),l=i("8418"),d=i("1dde"),f=d("splice"),u=Math.max,h=Math.min,b=9007199254740991,v="Maximum allowed length exceeded";c({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var i,c,d,f,g,p,j=s(this),O=a(j.length),m=r(t,O),x=arguments.length;if(0===x?i=c=0:1===x?(i=0,c=O-m):(i=x-2,c=h(u(n(e),0),O-m)),O+i-c>b)throw TypeError(v);for(d=o(j,c),f=0;f<c;f++)g=m+f,g in j&&l(d,f,j[g]);if(d.length=c,i<c){for(f=m;f<O-c;f++)g=f+c,p=f+i,g in j?j[p]=j[g]:delete j[p];for(f=O;f>O-c+i;f--)delete j[f-1]}else if(i>c)for(f=O-c;f>m;f--)g=f+c-1,p=f+i-1,g in j?j[p]=j[g]:delete j[p];for(f=0;f<i;f++)j[f+m]=arguments[f+2];return j.length=O-c+i,d}})},ab13:function(t,e,i){var c=i("b622"),r=c("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[r]=!1,"/./"[t](e)}catch(c){}}return!1}},b727:function(t,e,i){var c=i("0366"),r=i("44ad"),n=i("7b0b"),a=i("50c4"),s=i("65f0"),o=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,d=4==t,f=6==t,u=7==t,h=5==t||f;return function(b,v,g,p){for(var j,O,m=n(b),x=r(m),y=c(v,g,3),w=a(x.length),k=0,L=p||s,I=e?L(b,w):i||u?L(b,0):void 0;w>k;k++)if((h||k in x)&&(j=x[k],O=y(j,k,m),t))if(e)I[k]=O;else if(O)switch(t){case 3:return!0;case 5:return j;case 6:return k;case 2:o.call(I,j)}else switch(t){case 4:return!1;case 7:o.call(I,j)}return f?-1:l||d?d:I}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},c740:function(t,e,i){"use strict";var c=i("23e7"),r=i("b727").findIndex,n=i("44d2"),a="findIndex",s=!0;a in[]&&Array(1)[a]((function(){s=!1})),c({target:"Array",proto:!0,forced:s},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(a)},caad:function(t,e,i){"use strict";var c=i("23e7"),r=i("4d64").includes,n=i("44d2");c({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")}}]);
//# sourceMappingURL=chunk-f455c12e.03c06570.js.map